<!DOCTYPE html>
<html lang="en">
<body>
    <canvas id="lesson01" width="700" height="700">
        
// алгоритм Брезейнхейма для рисования любого отрезка 
// при нажатии на правую кнопку мыши координаты курсора записываются
<script>
function DrawLine(x1,y1,x2,y2)
{ 
  const deltaX = Math.abs(x2 - x1);
        const  deltaY = Math.abs(y2 - y1);
        const  signX = x1 < x2 ? 1 : -1;
        const  signY = y1 < y2 ? 1 : -1;
        var error = deltaX - deltaY;
        context.fillRect(x2,y2,1,1);
        while(x1 != x2 || y1 != y2) 
      {
        context.fillRect(x1,y1,1,1);
        var error2 = error * 2;
        if(error2 > -deltaY) 
        {
            error -= deltaY;
            x1 += signX;
        }
        if(error2 < deltaX) 
        {
            error += deltaX;
            y1 += signY;
        }
      }
}
</script>

<script>
let canvas=document.getElementById("lesson01");
        let context=canvas.getContext("2d");
   var flag=0;
   var x3=0,y3=0;
canvas.addEventListener("click", function(event) {
			if (event.which == 1) {
				if (flag == 0) {
					var x1 = event.offsetX;
					var y1 = event.offsetY;	
          
          x3=x1;
          y3=y1;
          flag = 1;
				} 
        else {
          console.log(x3,y3);
					var x2 = event.offsetX;
					var y2 = event.offsetY;
          console.log(x2,y2);
          DrawLine(x3,y3,x2,y2);
          flag = 0;
				} 
			}
           
		});
     
    </script>
</body>
</html>
